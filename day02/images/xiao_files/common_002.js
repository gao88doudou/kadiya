!function(e){window.clientLibsPath="8000"===window.location.port?"/dist/":"/etc/designs/richemont-car/clientlibs/publish/Clientlibs_facelift/dist/";var t=clientLibsPath+"js/",a="8000"===window.location.port?"//maps.google.com/maps/api/js?v=3.27&&language=en&key=AIzaSyAlr760MlMXGUjEOZ-wCtUngAKZexoe3sc&libraries=places,geometry&callback=sncf.mapsApiReady":$("#googleMapsLibrary").val(),i={bundles:{},paths:{}};-1===location.search.indexOf("debugClientLibs=true")?(i.bundles[t+"common.min.js"]=["sncf","common","ajaxWrapper","navigation","analytics","storage","header","footer","search","wishlist","shoppingCart","video","heroCarousel","dispatch","messages","commercial_banner","changePassword"],i.bundles[t+"homepage.min.js"]=["love_block"],i.bundles[t+"pdp.min.js"]=["reelview","pdp","zoom","bsaod","strapConfiguratorPdp"],i.bundles[t+"clp.min.js"]=["filter_clp","collectionComp"],i.bundles[t+"plp.min.js"]=["plp","filter_plp"],i.bundles[t+"giftFinder.min.js"]=["gbFilter"],i.bundles[t+"strapConfigurator.min.js"]=["scZoom","strapConfigurator"],i.paths.markerclusterer=t+"markerclusterer.min",i.paths.templates=t+"templates.min"):(i.bundles[t+"common.js"]=["sncf","common","ajaxWrapper","navigation","analytics","storage","header","footer","search","wishlist","shoppingCart","video","heroCarousel","dispatch","messages","commercial_banner","changePassword"],i.bundles[t+"homepage.js"]=["love_block"],i.bundles[t+"pdp.js"]=["reelview","pdp","zoom","bsaod","strapConfiguratorPdp"],i.bundles[t+"clp.js"]=["filter_clp","collectionComp"],i.bundles[t+"plp.js"]=["plp","filter_plp"],i.bundles[t+"giftFinder.js"]=["gbFilter"],i.bundles[t+"strapConfigurator.js"]=["scZoom","strapConfigurator"],i.paths.markerclusterer=t+"markerclusterer",i.paths.templates=t+"templates"),i.paths.googleMaps=a||"//maps.google.com/maps/api/js?key=AIzaSyAf3dfMyZzBaOfa5N468w-KAoRqVpokchg&language=en&v=3.27&libraries=places,geometry&callback=sncf.mapsApiReady",e&&e.config(i)}(window.require),function(e,t,a,i){"use strict";t&&(a=e.sncf=a||{},a.ajaxWrapper={moduleName:"AJAX Wrapper",xhrPool:{name:"xhrPool"},getXhrObj:function(e,i,n){var o={type:"POST",async:!0,cache:!1,url:"",data:{},dataType:"json",loaderRef:null,beforeSend:function(e){console.log("AJAX Wrapper: beforeSend callback called"),r.cancellable&&(s.xhrPool[r.url]?(s.xhrPool[r.url].abort(),s.xhrPool[r.url]=e,a.log("debug","Aborted previous request for "+r.url)):(s.xhrPool[r.url]=e,a.log("debug",s.xhrPool))),r.loader&&r.loader.length&&(~["BUTTON","A"].indexOf(r.loader[0].nodeName)||r.loader.hasClass("loader-btn")?s.loaderRef=common.loader().insertAfter(r.loader):s.loaderRef=common.loader().target(r.loader))},cancellable:!1,loader:null},r=t.extend({},o,e),s=this;return t.ajax(r).done(function(e,n,o){t.each(s.xhrPool,function(e,t){if(t===o)return delete s.xhrPool[e],a.log("debug",s.xhrPool),!1}),i&&i.apply(this,arguments)}).fail(function(e){t.each(s.xhrPool,function(t,i){if(i===e)return delete s.xhrPool[t],a.log("debug",s.xhrPool),!1}),i&&i.apply(this,arguments)}).always(function(){s.loaderRef&&s.loaderRef.length&&s.loaderRef.remove(),n&&n.apply(this,arguments)})},init:function(){a.log("debug","CAR: Ajax wrapper initialized"),e.ajaxWrapper||(e.ajaxWrapper=this)}},"function"==typeof define&&define("ajaxWrapper",[],function(){return a.ajaxWrapper}))}(window,window.jQuery,window.sncf),function(e,t,a){function i(e){var a={},i={};t.each(e.data(),function(e,t){e.match(/^ga/)&&(a[e.replace("ga","").lowerCaseFirstLetter()]=t),~e.indexOf("ee")&&(i[e.replace("ee","").lowerCaseFirstLetter()]=t)}),t.isEmptyObject(a)||(common.isMobile()&&"menu"==a.event&&void 0==a.secondLevel&&(a.secondLevel=""),dataLayer.push(a)),t.isEmptyObject(i)||dataLayer.push(i)}t&&(a=e.sncf=a||{},String.prototype.lowerCaseFirstLetter||(String.prototype.lowerCaseFirstLetter=function(){return this.charAt(0).toLowerCase()+this.slice(1)}),a.analytics={moduleName:"Analytics",triggerClickGaEventOnLoad:function(e){e.data("fnClick")&&i(e)},pushScrolledAnalytics:function(e){var a,i={};t(".js-scrollga-enable:in-viewport:visible").each(function(e,a){var n=t(this);if(!n.parents(".slick-slide").length||n.parents(".slick-active").length){var o=n.data("scrollgaArray").toLowerCase();o&&(i[o]||(i[o]={},i[o][o]=[],i[o].count=0),i[o].event=n.data("scrollgaEvent"),i[o].eeAction=n.data("scrollgaEeAction"),n.data("scrollgaInView")||(i[o][o].push(n.data("ee"+n.data("scrollgaArray"))[0]),i[o].count++,n.data("scrollgaInView",!0)))}});for(a in i)Object.keys(i[a]).length&&i[a].count&&(delete i[a].count,dataLayer.push(i[a]))},trackEvents:function(){var e=t(document);e.on("sclick enterKeyPress","[data-fn-click='true']",function(e){i(t(this))}),e.on("click","[data-fn-click='true']",function(e){var a=t(this),i=a.data("delay");if(i){e.preventDefault();var n=t(this).attr("href");setTimeout(function(){window.location=n},i)}}),e.on("scroll",a.common.throttle(function(){a.analytics.pushScrolledAnalytics()},150))},init:function(){if(a.log("debug","CAR: Analytics has been initialized"),!(window.dataLayer&&"push"in window.dataLayer))return void a.log("error","CAR: Data Layer object is not defined");this.trackEvents(),this.pushScrolledAnalytics()}},"function"==typeof define&&define("analytics",[],function(){return a.analytics}))}(window,window.jQuery,window.sncf),function(e,t,a,i){"use strict";function n(e){e(function(){a.init(),a.log("debug","CAR: Core initialized")})}a=e.sncf=a||{},i=e.CQ=i||{},a.env={local:!1,dev:!1},e.globalCache=a.globalCache={regex:{mobile:/android|webos|iphone|blackberry|iemobile|opera mini/i,tablet:/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i,breakpoint:/:(?=([\s\d]+)px)/i},UA:navigator.userAgent.toLowerCase(),isKeyboardFocus:!1};var o=["localhost","127.0.0.1"],r=["debug","log","warn","error"],s=["8000","4502","4503"];a.moduleName="Namespace - SapientNitro Cartier Facelift";var c=function(){"function"==typeof require&&require(["templates"],function(){t(document.body).data({hbsTemplatesReady:!0}),t(document.body).trigger("hbsTemplatesReady"),a.log("debug","AMD: Templates loaded")});var i=["common","analytics","ajaxWrapper","wishlist","shoppingCart","dispatch","messages","changePassword"],n=[];t("[data-module]").each(function(){i=i.concat(t(this).data("module").split(","))}),i=i.filter(function(e){if(e=e.trim())return e;a.log("error","CAR: Empty/invalid module definition found"),a.log("error","CAR: Check if you have declared an empty 'data-module' attribute")}),(~i.indexOf("bsaod")||~i.indexOf("storelocator"))&&"function"==typeof require&&require(["googleMaps","markerclusterer"],function(){t(document.body).data({markerclusterer:!0}),t(document).trigger("markerclustererReady"),a.log("debug","AMD: google maps and markerclusterer libraries are loaded")}),a.resolveI18nKeys(function(t){e.I18nJson=t,i.length&&"function"==typeof require&&require(i,function(){a.toArray(arguments).map(function(e){"string"==typeof e.moduleName&&e.moduleName.trim()?~e.moduleName.indexOf("__module")||a.log("debug","AMD: "+e.moduleName+" JS module loaded"):e.moduleName="__module_"+(new Date).getTime(),~n.indexOf(e.moduleName)?a.log("warn","AMD: More than one require calls for "+(~e.moduleName.indexOf("__module")?"module(s)":"'"+e.moduleName+"'")+" found. Please check if "+(~e.moduleName.indexOf("__module")?"module(s) have":"'"+e.moduleName+"' module has")+" been specified more than once."):(e.init({moduleName:e.moduleName}),n.push(e.moduleName))})})})},d=function(){return globalCache.regex.mobile.test(globalCache.UA)||globalCache.regex.tablet.test(globalCache.UA)},l=function(){if(t(document.body).on("keydown",function(e){var i=null;13===e.keyCode&&(i=t.Event("enterKeyPress",t.extend(e,{type:"enterKeyPress"})),t(e.target).trigger(i)),27===e.keyCode&&(i=t.Event("escapeKey",t.extend(e,{type:"escapeKey"})),t(e.target).trigger(i)),9===e.keyCode&&(a.globalCache.isKeyboardFocus=!0)}),t(document.body).on("mousedown",function(){a.globalCache.isKeyboardFocus=!1}),t(document.body).on("mouseup",function(e){if(1===e.which){var a=t.Event("sclick",t.extend(e,{type:"sclick"}));t(e.target).trigger(a)}}),t(document.body).on("focusin",a.keyboardAccess),d())t(e).on("orientationchange",function(){a.log("log","Mobile mode: Orientation change"),t(e).trigger("responsive",t(e).outerWidth())});else{var i=t(document.body).pseudoContent(":after").match(globalCache.regex.breakpoint);+i[1]&&(globalCache.breakpoint=+i[1],t(e).on("resize",u))}t(document.body).on("keypress","[role=button]",function(e){32==e.which&&(e.stopPropagation(),e.preventDefault(),t(this).trigger("click"))})},u=function(){var i=t(document.body).pseudoContent(":after").match(globalCache.regex.breakpoint);+i[1]&&(i[1]=+i[1],globalCache.breakpoint!==i[1]&&(a.log("log","Desktop Mode: Breakpoint change"),globalCache.breakpoint=i[1],t(e).trigger("responsive",[i[1]])))},h=function(){var t=e.location.hostname,i=e.location.port;~o.indexOf(t)&&(a.env.local=!0,"8000"===i&&(a.env.dev=!0))},p=function(e){var t=e.hash.key,a=e.hash.optionalText,n=e.hash.replaceMap,o=e.hash.placeHolderValue;e.hash.replacedText;if("object"==typeof n&&Object.keys(n).forEach(function(e){var a=new RegExp("{"+e+"}","g");t=t.replace(a,n[e])}),t.match("{placeHolder}"))if(o){var r=new RegExp("{placeHolder}","g");t=t.replace(r,o)}else t="";return a||(a=t),i.I18n.getMessage(t,a)},g=function(){Handlebars.registerHelper("I18n",function(e){var t=p(e);return new Handlebars.SafeString(t)}),Handlebars.registerHelper("ifI18nLength_gt",function(e){var t=p(e),a=t.length;e.hash.charLength;return a>e.hash.charLength?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("i18withReplaceableText",function(e){var t=p(e),a=e.hash.replacedText;return t.length>0?t.replace("{0}",a):t})};a.keyboardAccess=function(e){t(".focussed").removeClass("focussed"),a.globalCache.isKeyboardFocus?t(e.target).addClass("focussed"):t(e.target).removeClass("focussed")},a.resolveI18nKeys=function(e){e&&(i.I18n.i18nresolved?(g(),e(i.I18n.i18nJsonKeys)):i.I18n.ready(function(){g(),e(i.I18n.i18nJsonKeys)}))},a.log=function(t){try{(~s.indexOf(e.location.port)||a.queryParams("debugClientLibs"))&&arguments.length>1&&~r.indexOf(t)&&(2===arguments.length?console[t](arguments[1]):console[t](Array.prototype.slice.call(arguments).slice(1)))}catch(e){}},a.hbsTemplates=e.hbsTemplates={ready:function(e){if(t(document.body).data().hbsTemplatesReady&&e)return void e();t(document.body).on("hbsTemplatesReady",e)}},a.mapsApiReady=function(){t(document.body).data({maps:!0}),t(document).trigger("mapsReady")},e.googleMaps=a.googleMaps={ready:function(e){if(t(document.body).data().maps&&t(document.body).data().markerclusterer&&e)return void e();t(document).on("mapsReady",function(){if(t(document.body).data().markerclusterer)return void e();t(document).on("markerclustererReady",e)})}},a.queryParams=function(e){var a=t.deparam(location.search);return"string"==typeof e?a[e]:a},a.getCookieDomain=function(){var e=location.hostname.split("."),t=0;return t=~e.indexOf("co")?e.length-3:e.length-2,~["localhost","127.0.0.1"].indexOf(location.hostname)?location.hostname:"."+e.slice(t).join(".")},"function"==typeof define&&define("sncf",[],function(){return a}),a.toArray=function(e){return Array.prototype.slice.call(e)},a.escapeExpr=function(e){if(!e)return"";if("string"==typeof e){return decodeURIComponent(e).replace(/[^a-zA-Z0-9]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"\\":return"&#92;";case"/":return"&#47;";default:return e}})}return e.toString()},a.filterScripts=function(e){return decodeURIComponent(e).replace(/<script>|<script[^>]+>|<\/script>/gi,"")},a.init=function(){c(),l(),h()},t||"function"!=typeof require?n(t):require(["jquery"],function(e){n(t=e)})}(window,window.jQuery,window.sncf,window.CQ),function(e,t,a){function i(e){if(e instanceof jQuery||(e=t(e)),this.length=e.length,!this.length)return this;this.htmlText=e[0].outerHTML,this.loader=e,this[0]=e[0]}function n(e){if(!e)return!1;var t=Object.keys(e),a=["maxwidthmobile","maxwidthportraitmobile","maxwidthlandscapemobile","maxwidthportraitipad","maxwidthlandscapeipad","maxwidthdesktop"],i={};return t=t.filter(function(t){return!!~a.indexOf(t)&&!!e[t]}),0!==t.length&&(t.forEach(function(t){i[t]=e[t]}),i)}function o(e,t,a){var i="";return e.maxwidthmobile&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthmobile+".low"+a+'" data-media="(min-width: 1px)"></div>'),e.maxwidthportraitmobile&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthportraitmobile+".high"+a+'" data-media="(min-width: 320px)"></div>',i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthportraitmobile+".high"+a+'" data-media="(min-width: 320px and min-device-pixel-ratio: 2.0)"></div>'),e.maxwidthlandscapemobile&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthlandscapemobile+".high"+a+'" data-media="(min-width: 321px)"></div>',i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthlandscapemobile+".high"+a+'" data-media="(min-width: 321px and min-device-pixel-ratio: 2.0)"></div>'),e.maxwidthportraitipad&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthportraitipad+".high"+a+'" data-media="(min-width: 481px)"></div>',i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthportraitipad+".high"+a+'" data-media="(min-width: 481px and min-device-pixel-ratio: 2.0)"></div>'),e.maxwidthlandscapeipad&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthlandscapeipad+".high"+a+'" data-media="(min-width: 769px)"></div>',i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthlandscapeipad+".high"+a+'" data-media="(min-width: 769px and min-device-pixel-ratio: 2.0)"></div>'),e.maxwidthdesktop&&(i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthdesktop+".high"+a+'" data-media="(min-width: 1024px)"></div>',i+='<div class="hidden" data-src="'+t+".scale."+e.maxwidthdesktop+".high"+a+'" data-media="(min-width: 1024px and min-device-pixel-ratio: 2.0)"></div>'),i}function r(e){var a=t(e).closest(".ellipses");t(a).triggerHandler("isTruncated")?t(a).trigger("destroy.dot").css("max-height","100%"):t(a).css("max-height","").dotdotdot({fallbackToLetter:!0,wrap:"letter"})}a=e.sncf=a||{};var s={},c={Edge:/Edge/i.test(navigator.userAgent),Safari:/Safari/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent),Chrome:/Chrome/i.test(navigator.userAgent),Firefox:/Firefox/i.test(navigator.userAgent),IE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/i.test(navigator.userAgent)};i.prototype={constructor:i,target:function(e){return this.length&&(t(e).hasClass("hidden")||t(e).html(this.loader)),this},appendTo:function(e){return this.length&&(t(e).hasClass("hidden")||t(e).append(this.loader)),this},insertAfter:function(e){return this.length&&(t(e).hasClass("hidden")||t(e).after(this.loader)),this},insertBefore:function(){return this.length&&(t(domEle).hasClass("hidden")||t(domEle).before(this.loader)),this},remove:function(){return this.loader.remove()}},a.common={moduleName:"Common",isMobile:function(){return globalCache.regex.mobile.test(globalCache.UA)},isMobileMode:function(){return t(e).outerWidth()<768},isTablet:function(){return globalCache.regex.tablet.test(globalCache.UA)},isTabletMode:function(){return t(e).outerWidth()>=768&&t(e).outerWidth()<992},isDesktop:function(){return!this.isMobileOrTablet()},isTabletOrDesktopMode:function(){return this.isTabletMode()||this.isDesktopMode()},isDesktopMode:function(){return t(e).outerWidth()>=992},isMobileOrTablet:function(){return this.isMobile()||this.isTablet()},isChrome:function(){return c.Chrome},isFirefox:function(){return c.Firefox},isSafari:function(){return c.Safari},isIE:function(){return c.IE},isEdge:function(){return c.Edge},resizeIframe:function(t){t instanceof e.Node&&1===t.nodeType&&(t.style.height=t.contentWindow.document.body.scrollHeight+"px")},setCookie:function(t,a,i,n,o){if("string"==typeof t&&t.length){"string"!=typeof a&&(a="");var r=new Date;"number"==typeof i&&(i===1/0?r=new Date("Thu, 31 Dec 2037 00:00:00 GMT"):r.setTime(r.getTime()+24*i*60*60*1e3));var s=i?"; expires"+r.toUTCString():"",c="; path="+("string"==typeof n?n.trim():"/"),d=e.location.hostname,l="";"localhost"===d?"string"==typeof o&&(l="; domain="+o.trim()):l="; domain="+("string"==typeof o?o.trim():d),document.cookie=t+"="+a+s+l+c}},getCookie:function(e){if("string"!=typeof e||!e.length)return"";var t=document.cookie,i=0,n=[],o="",r="";if(e+="=",(n=t.split(";")).length){for(;i<n.length;i++)if(~(o=n[i].trim()).indexOf(e)){r=o.substring(e.length,o.length).trim();break}try{return decodeURIComponent(r)}catch(t){return a.log("debug","CAR: Decode failed for cookie: "+e),r}}return r},removeCrFromproductRef:function(e){var t=new RegExp("^CR","i");if(e)return e.match(t)&&(e=e.replace(t,"")),e},removeCookie:function(t,a,i){if("string"!=typeof t||!t.length)return!1;var n="string"==typeof a?a:"/",o=e.location.hostname,r="",s="";return"localhost"===o?"string"==typeof i&&(r="; domain="+i.trim()):r="; domain="+("string"==typeof i?i.trim():o),s=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+r+"; path="+n,document.cookie=s,!this.getCookie(t).length},resetCookie:function(e,t,a,i,n){this.removeCookie(e,i,n),this.setCookie(e,t,a,i,n)},storage:{available:"function"==typeof e.Storage||"object"==typeof e.Storage,set:function(t,i,n){if("string"==typeof t&&t.length){n="boolean"==typeof n&&n;var o="object"==typeof i&&null!==i?JSON.stringify(i):i;if(this.available)try{return void(n?e.sessionStorage.setItem(t,o):e.localStorage.setItem(t,o))}catch(e){}n?a.common.setCookie(t,o):a.common.setCookie(t,o,1/0)}},remove:function(t){if("string"!=typeof t||!t.length)return!1;if(this.available)try{return e.localStorage.removeItem(t),e.sessionStorage.removeItem(t),!e.localStorage.key(t)||!e.sessionStorage.key(t)||a.common.removeCookie(t)}catch(e){}return a.common.removeCookie(t)},getAll:function(t,i){var n=[],o=null;if(i="boolean"==typeof i&&i,this.available)try{e.sessionStorage.hasOwnProperty(t)&&!i&&n.push({value:e.sessionStorage.getItem(t),storage:"sessionStorage"}),e.localStorage.hasOwnProperty(t)&&n.push({value:e.localStorage.getItem(t),storage:"localStorage"})}catch(e){}return(o=a.common.getCookie(t)).length&&n.push({value:o,storage:"cookie"}),n.map(function(e){try{return e.value=JSON.parse(e.value),e}catch(t){return e}})},get:function(e,t){var a=null;if(t="boolean"==typeof t&&t,t?a=this.getFromSessionStorage(e):(a=this.getFromSessionStorage(e))||(a=this.getFromLocalStorage(e)),a||(a=this.getFromCookies(e)))return a.value},update:function(e,t,a){var i=this.get(e);"function"==typeof t?this.set(e,t(i,e),a):this.set(e,t,a)},getFromLocalStorage:function(e){return this.getAll(e,!0).filter(function(e){return"localStorage"===e.storage})[0]},getFromSessionStorage:function(e){return this.getAll(e).filter(function(e){return"sessionStorage"===e.storage})[0]},getFromCookies:function(e){return this.getAll(e).filter(function(e){return"cookie"===e.storage})[0]}},initLazyLoad:function(){try{t("[data-original]").lazyload({failure_limit:10,threshold:200})}catch(e){}},throttle:function(e,t,a){var i=Date.now();return function(){i+t-Date.now()<0&&(e(),i=Date.now())}},addEllipses:function(){t(".ellipses").dotdotdot({fallbackToLetter:!0,wrap:"letter",callback:function(){t(this).off("click").on("click",function(){r(t(this))})}})},bindCarouselLazyLoad:function(){t(".carousel").bind("slid.bs.carousel",function(e){try{t("[data-original]").lazyload({failure_limit:10})}catch(e){}})},bindModalPopup:function(){var e=this;t(".modal").on("shown.bs.modal",function(){var a=t(this);s.focusedElementBeforeModal=document.activeElement,a.on("keydown",e.trapTabKey);var i=a.find('a[href], area[href], input:not([disabled],:hidden), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');i.length>0&&(i=i.toArray(),s.firstTabStop=i[0],s.lastTabStop=i[i.length-1],s.firstTabStop.focus())})},trapTabKey:function(e){9===e.keyCode&&(e.shiftKey?document.activeElement===s.firstTabStop&&(e.preventDefault(),t(s.lastTabStop).focus()):document.activeElement===s.lastTabStop&&(e.preventDefault(),t(s.firstTabStop).focus())),27===e.keyCode&&s.focusedElementBeforeModal.focus()},scrollTo:function(e,a,i){var n=e||t("body"),o=a||300;i=i||60,t("html, body").animate({scrollTop:n.offset().top-i},o)},getCountryName:function(e){if("string"==typeof e){switch(e.toLowerCase()){case"us":return"United States";case"uk":return"United Kingdom";case"fr":return"France";case"jp":return"Japan";case"cn":return"China";case"hk":return"Hong Kong";case"sg":return"Singapore"}return e}},isLoggedIn:function(){return!!this.getCookie("RCHMFrontEndCookie")},loader:function(e,a){var n=t("<div>").addClass("loading-icon js-loading-icon");if(!e)return new i(n);t(e).hasClass("hidden")||(a?t(e).append(n):t(e).html(n))},stickBeneathHeader:function(a,i){var n=t(".js-header").height(),o=a.offset().top;t(e).scroll(function(){common.isMobileMode()&&t(this).scrollTop()+n>o?(i.addClass("fixedUnderHeader"),i.css("top",n-1),a.height(i.height())):(i.removeClass("fixedUnderHeader"),i.css("top",0),a.css("height","auto"))})},registerCommonHelpers:function(){Handlebars.registerHelper("times",function(e,t,a,i){var n=0,o="";if("object"==typeof t&&(i=t,t=0,a=!1),"number"==typeof t&&"object"==typeof a&&(i=a,a=!1),"boolean"==typeof t&&"object"==typeof a&&(i=a,a=t,t=0),"number"==typeof t&&(n=t),a)for(;n<=e;n++)o+=i.fn({index:n,count:n+1,first:n===t,end:n===e,prevIndex:n-1,nextIndex:n+1,prevCount:n,nextCount:n+2});else for(;n<e;n++)o+=i.fn({index:n,count:n+1,first:n===t,end:n===e-1,prevIndex:n-1,nextIndex:n+1,prevCount:n,nextCount:n+2});return o}),Handlebars.registerHelper("if_mod",function(e,t,a,i){var n;return n=0!==t&&e%t===a,n?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("removeCrFromproductRef",function(e){return e=a.common.removeCrFromproductRef(e),new Handlebars.SafeString(e)}),Handlebars.registerHelper("if_eq",function(e,t,a){return e==t?a.fn(this):a.inverse(this)}),Handlebars.registerHelper("if_gteq",function(e,t,a){return e>=t?a.fn(this):a.inverse(this)}),Handlebars.registerHelper("if_gt",function(e,t,a){return e>t?a.fn(this):a.inverse(this)}),Handlebars.registerHelper("setVariable",function(e,t,a){a.data.root[e]=t}),Handlebars.registerHelper("convertProductObjArray",function(e){var t,a=[];for(t in e.hash)void 0===e.hash[t]&&(e.hash[t]="");return a.push(e.hash),JSON.stringify(a)}),Handlebars.registerHelper("incrementValue",function(e,t){return++t.data.root[e]}),Handlebars.registerHelper("toJSON",function(e){return JSON.stringify(e)}),Handlebars.registerHelper("trimURL",function(e){return e.replace(".html","")}),Handlebars.registerHelper("imageRendition",function(e,t,a,i,n){var o=e.split(".");return void 0!==t[i]?e+".scale."+t[i][a]+".high."+o[o.length-1]:void 0!==t[n]?e+".scale."+t[n][a]+".high."+o[o.length-1]:e+".scale."+t.default[a]+".high."+o[o.length-1]}),Handlebars.registerHelper("if_even",function(e,t){return e%2==0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("if_odd",function(e,t){return e%2!=0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("html",function(e){var a=t(e.hash.selector);return a.length?new Handlebars.SafeString(a.html()):""}),Handlebars.registerHelper("attr",function(e){var a=t(e.hash.selector);return a.length&&e.hash.key?a.attr(e.hash.key):""}),Handlebars.registerHelper("val",function(e){var a=t(e.hash.selector);return a.length?a.val():""}),Handlebars.registerHelper("imageset",function(e){var a,i=Handlebars.Utils.escapeExpression(e.hash.src),r=Handlebars.Utils.escapeExpression(e.hash.alt),s=Handlebars.Utils.escapeExpression(e.hash.class),c=n(e.hash.renditions?e.hash.renditions:t(e.hash.selector).data()),d=i.match(/.png|.jpg/i)||[".png"];if(i){if(e.hash.classList&&e.hash.classList.length&&(s+=e.hash.classList.join(" ")),a='<img class="'+s+'" src="'+i+'" alt="'+r+'" />',c){var l=t("<div>").attr({"data-picture":"","data-alt":r,"data-class":"js-image js-adaptiveImage "+s,"data-type":1,"data-original-url":i,class:"c-image-adaptive"});return l.html(o(c,i,d[0])),new Handlebars.SafeString(l[0].outerHTML)}return new Handlebars.SafeString(a)}}),Handlebars.registerHelper("Base64Encode",function(t){return t.hash.url&&e.Base64?e.Base64.encode(t.hash.url):""}),Handlebars.registerHelper("Base64Decode",function(t){return t.hash.encodedUrl&&e.Base64?e.Base64.decode(t.hash.encodedUrl):""}),Handlebars.registerHelper("loveFont",function(e){var t=a.filterScripts(e.hash.text);return new Handlebars.SafeString(t)}),Handlebars.registerHelper("if_ua",function(e,t){var a=Handlebars.Utils.escapeExpression(e);return a&&c[a]?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("addValues",function(e,t){return e=parseFloat(e),t=parseFloat(t),e+t}),Handlebars.registerHelper("spaceToUnderscore",function(e){return e.split(" ").join("_")}),Handlebars.registerHelper("ifLogicOper",function(e,t,a,i){switch(t){case"==":return e==a?i.fn(this):i.inverse(this);case"===":return e===a?i.fn(this):i.inverse(this);case"!=":return e!=a?i.fn(this):i.inverse(this);case"!==":return e!==a?i.fn(this):i.inverse(this);case"<":return e<a?i.fn(this):i.inverse(this);case"<=":return e<=a?i.fn(this):i.inverse(this);case">":return e>a?i.fn(this):i.inverse(this);case">=":return e>=a?i.fn(this):i.inverse(this);case"&&":return e&&a?i.fn(this):i.inverse(this);case"||":return e||a?i.fn(this):i.inverse(this);default:return i.inverse(this)}})},Loader:i,getLazyloadPlaceholder:function(){return"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLXNwaW5uZXIiIHdpZHRoPSIzN3B4IiBoZWlnaHQ9IjM3cHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIgc3R5bGU9IiI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMCA1MCA1MCkiPiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iI2IxYjFiMSI+ICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuOTE2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+ICA8L3JlY3Q+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDMwIDUwIDUwKSI+ICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjYjFiMWIxIj4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC44MzMzMzMzMzMzMzMzMzM0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4gIDwvcmVjdD48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoNjAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjc1cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4gIDwvcmVjdD48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjY2NjY2NjY2NjY2NjY2NjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxMjAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjU4MzMzMzMzMzMzMzMzMzRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjQxNjY2NjY2NjY2NjY2NjdzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyMTAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjMzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNDAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjI1cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4gIDwvcmVjdD48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDUwIDUwKSI+ICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjYjFiMWIxIj4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4xNjY2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+ICA8L3JlY3Q+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDMwMCA1MCA1MCkiPiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iI2IxYjFiMSI+ICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMDgzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMzAgNTAgNTApIj4gIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNiMWIxYjEiPiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49IjBzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPiAgPC9yZWN0PjwvZz48L3N2Zz4="},getParameterByName:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=a.exec(e);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},doesURLParamsMatch:function(e,t,a){return this.getParameterByName(e,t)==a},init:function(){a.log("debug","CAR: Common module initialized"),this.initLazyLoad(),this.addEllipses(),this.registerCommonHelpers(),t(".carousel").length&&this.bindCarouselLazyLoad(),this.bindModalPopup();var i=this;t(e).on("responsive",function(){i.addEllipses()}),e.common||(e.common=this)}},"function"==typeof define&&(define("common",[],function(){return a.common}),define("storage",[],function(){return a.common.storage}))}(window,window.jQuery,window.sncf),function(e,t,a,i,n){function o(e,t){return e+".scale."+t+".high."+e.split(".").pop()}function r(e,a){"add"===a&&(p(!0),g(!0),y(CQ.I18n.getMessage("product.added.success.message")));var i=void 0!==e.content?e.content:e,n=JSON.stringify(i);t.jStorage.set("swsecartlc",n)}function s(e,t){if(void 0!==e){var a=e.content||{};a.isErrorMessageVisible?(c(a)&&l(a),"add"===t&&hbsTemplates.ready(function(){y(a.errorMessage),messages.createDialog({message:a.errorMessage,autoClose:!1,smallDialog:!0})})):l(a,r,e,t)}}function c(e){return e&&e.teaserArray&&e.teaserArray.length>0}function d(e){e.preventDefault(),shoppingCart.addToCart(t(this).data(),this)}function l(e,a,i,n){var r=e||{},s=0,c="",d=I.$shoppingBag.data()||{};I.$cartTotalAmount.html(r.totalForSB),I.$cartTextInfo.html(CQ.I18n.getMessage(r.totalInfo,"excl. sales tax"));for(var l=r.teaserArray||[],p=0;p<l.length;p++)s+=l[p].selectedQuantity,l[p].imageSrc=o(l[p].imageURL,"140");hbsTemplates.ready(function(){c=CARF.templates.cartProductList(l),I.$cartList.hasClass("mCustomScrollbar")&&I.$cartList.mCustomScrollbar("destroy"),I.$cartCount.html(s),I.$cartTitle.html(" "+s+" "+CQ.I18n.getMessage("minicart.checkout.head.label")),I.$cartList.html(c),s>0?(u(),I.$shoppingBag.attr("data-href",d.cart)):(h(),I.$shoppingBag.attr("data-href",d.emptycart)),s>2?I.$cartScroller.show():I.$cartScroller.hide(),I.$cartProductDetails=t(".js-basket-product-details"),I.$cartList.mCustomScrollbar(),a&&a(i,n)})}function u(){
I.$shoppingBagWrapper.on("mouseenter",function(){p(!1)}).on("mouseleave",function(){g(!1)}),I.$shoppingBagWrapper.on("focusin",I.$shoppingBag,function(e){p(!1)}).on("focusout",function(e){g(!1)})}function h(){I.$shoppingBagWrapper.unbind("mouseenter"),I.$shoppingBagWrapper.unbind("mouseleave"),I.$shoppingBagWrapper.unbind("focusin"),I.$shoppingBagWrapper.unbind("focusout")}function p(e){e?I.$cartWrapper.fadeIn("slow",function(){I.$shoppingBag.attr("aria-expanded",!0)}).delay(4e3):(I.$cartWrapper.stop(!0,!0).fadeIn(),I.$shoppingBag.attr("aria-expanded",!0))}function g(e){e?I.$cartWrapper.fadeOut("slow").queue(function(){I.$shoppingBag.attr("aria-expanded",!1)}):I.$cartWrapper.stop(!0,!0).delay(3e3).fadeOut().queue(function(){I.$shoppingBag.attr("aria-expanded",!1)})}function f(){return a.env.dev?"/source/modules/generic/data/cart.AddCart.json":"/bin/richemont-car/cart.AddCart.json"}function m(){return a.env.dev?"/source/modules/header/data/cart.json":"/bin/richemont-car/cart.GetCart.json"}function v(){return a.env.dev?"GET":"POST"}function b(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function y(e){I.$cartUpdateMsgForSR.html(e),setTimeout(function(){I.$cartUpdateMsgForSR.empty()},3e4)}a=e.sncf=a||{};var I={};a.shoppingCart={moduleName:"shoppingCart",updateCache:function(){I={$shoppingBagWrapper:t(".js-cart-basket-wrapper"),$shoppingBag:t(".js-nav-link-cart"),$cartCount:t(".js-cart-count span"),$addToCart:t(".js-addToShopping"),$cartWrapper:t(".js-basket-popup"),$cartTitle:t(".js-basket-title"),$cartScroller:t(".c-header__basket-arrow"),$cartList:t(".js-basket-list"),$cartProductDetails:t(".js-basket-product-details"),$cartTotalAmount:t(".js-basket-total-amount"),$cartTextInfo:t(".js-basket-tax-info"),$configPath:t("#configPath"),$cartUpdateMsgForSR:t(".js-cartupdate-sr")}},bindEvents:function(){var e=t("#eComCheck").val(),a="";"true"===e&&this.fetchCartData(),I.$shoppingBagWrapper.on("keypress click",function(e){e.preventDefault(),13!=e.which&&"click"!=e.type||(a=t(this).find(I.$shoppingBag).attr("data-href"))&&(window.location.href=a)})},addToCart:function(e,i,n){if("function"==typeof i&&(n=i,i=void 0),e.isvariant){var o=e.href;return a.common.setCookie("isVariantSelected","true"),void(window.location.href=o)}var r=f(),c={url:r,method:v(),data:e,loader:t(i)};a.ajaxWrapper.getXhrObj(c).done(function(e){s(e,"add"),n&&n(e),t(document).trigger("cartPush")}).fail(function(e){a.log("log",e),t(document).trigger("cartError")})},fetchCartData:function(e){var i=t.jStorage&&t.jStorage.get("swsecartlc"),n={},o=0;if(i&&(n=JSON.parse(i),o=n.noOfProducts),0!==t(".js-products-orderconfirm").length)return!1;if(i&&!a.common.getCookie("swse_cart"))return a.common.getCookie("rvcheck")&&a.common.removeCookie("rvcheck","/",a.getCookieDomain()),void t.jStorage.deleteKey("swsecartlc");var r=!1;if(!i&&a.common.getCookie("swse_cart")?r=!0:!e&&a.common.getCookie("rvcheck")&&o!=parseInt(a.common.getCookie("rvcheck"))&&(r=!0),r)return i="{}",h(),void this.getCartOnLoad();l(n)},getCartOnLoad:function(){var e=m(),t=v(),i={url:e,type:t,data:{sw:b("sw"),currentPage:I.$configPath.val()},contentType:"application/x-www-form-urlencoded",async:!0};a.ajaxWrapper.getXhrObj(i).done(function(e){s(e,"load"),a.common.getCookie("rvcheck")&&a.common.removeCookie("rvcheck","/",a.getCookieDomain())}).fail(function(e){a.log("log",e)})},addToCartListener:function(){d.apply(this,arguments)},init:function(){a.log("CAR: shoppingCart initialized"),this.updateCache(),this.bindEvents(),window.shoppingCart||(window.shoppingCart=this)}},"function"==typeof define&&define("shoppingCart",[],function(){return a.shoppingCart})}(window,window.jQuery,window.sncf,window.Handlebars),function(e,t,a){t&&(a=e.sncf=a||{},a.wishlist={moduleName:"Wishlist",_cacheActionName:function(){},getWishListUrl:function(){return a.env.dev?"/source/modules/generic/data/wishlist.json":"/bin/richemont/wishlist"},getAjaxMethod:function(){return a.env.dev?"GET":"POST"},addToWishList:function(e){var i,n,o=t(e).data().refid,r=t(e).data().pdp_pagepath,s=(t(e).data().avaliablity,this.getWishListUrl()),c=this;method=this.getAjaxMethod(),i=common.getCookie("LoggedIn")?"createPDPwishlist":"GuestUserWishList",n={type:method,url:s,data:"action="+i+"&variantReference="+o+"&pdp_pagepath="+r},ajaxWrapper.getXhrObj(n).done(function(a){common.storage.set("wishListData",a),c.setAriaLabel(e,!1),t(e).find(".icon-wishlist").addClass("icon-wishlist-active").removeClass("icon-wishlist"),t(e).find(".icon-wishlistv2").addClass("icon-wishlistv2-active").removeClass("icon-wishlistv2")}).fail(function(e){a.log("log",e)})},removeFromWishList:function(e){var i,n,o=t(e).data().refid,r=t(e).data().pdp_pagepath,s=(t(e).data().avaliablity,this.getWishListUrl()),c=this;method=this.getAjaxMethod(),i=common.getCookie("LoggedIn")?"productdelete":"guestProductDelete",n={type:method,url:s,data:"action="+i+"&variantReference="+o+"&pdp_pagepath="+r},callback=this.processWishlistData,ajaxWrapper.getXhrObj(n).done(function(a){common.storage.set("wishListData",a),c.setAriaLabel(e,!0),t(e).find(".icon-wishlist-active").addClass("icon-wishlist").removeClass("icon-wishlist-active"),t(e).find(".icon-wishlistv2-active").addClass("icon-wishlistv2").removeClass("icon-wishlistv2-active")}).fail(function(e){a.log("log",e)})},processWishlistData:function(e){var a=this;e&&t.each(e.content,function(e,i){try{var n=i.trim();a.setAriaLabel(prodRef,!1),t(".js-wishlist[data-refId='"+n+"']").find(".icon").removeClass("icon-wishlist").addClass("icon-wishlist-active")}catch(e){}})},setAriaLabel:function(e,a){var i,n;i=t(e).data("productname"),(n=a?CQ.I18n.getMessage("wcag.wishlist.add.message"):CQ.I18n.getMessage("wcag.wishlist.remove.message"))&&(n=n.replace("{0}",i),t(e).attr("aria-label",n))},getWishListItems:function(){var e=common.storage.get("wishListData");if(void 0===e||common.getCookie("wishlistUpdated")){if(common.isLoggedIn()||common.getCookie("wishlistUpdated")){var i=this.getWishListUrl(),n=this.getAjaxMethod(),o={type:n,url:i,data:"action=getWishlistProducts&pdp_pagepath="+t("[name='currentPagePath']").val()},r=this.processWishlistData;a.ajaxWrapper.getXhrObj(o,function(e){if(common.storage.set("wishListData",e),common.getCookie("wishlistUpdated")){var t=a.getCookieDomain();common.removeCookie("wishlistUpdated","/",t)}r(e)})}}else this.processWishlistData(e)},bindWishEvents:function(){var e=this;t(".js-wishlist").on("click enterKeyPress",function(a){a.stopPropagation(),a.preventDefault(),t(this).trigger("pushIntoLayer"),t(this).find(".icon").hasClass("icon-wishlist-active")||t(this).find(".icon").hasClass("icon-wishlistv2-active")?e.removeFromWishList(this):e.addToWishList(this)})},init:function(){a.log("debug","CAR: Wishlist has been initialized"),this.getWishListItems(),this.bindWishEvents()}},"function"==typeof define&&define("wishlist",[],function(){return a.wishlist}))}(window,window.jQuery,window.sncf),function(e,t,a,i){function n(){var e="guest",t="loggedouttext",a=e;common.isLoggedIn()?(e="logged",t="loggedintext"):(a="logged",t="loggedouttext"),o(s.$userAccountListItem,"URL",s.$userAccountListItem.data(e)),o(s.$userAccountListItemTxt,"class",s.$userAccountListItemTxt.data(e),s.$userAccountListItemTxt.data(a)),o(s.$userAccountListItemTxt,"text",s.$userAccountListItemTxt.data(t)),o(s.$userAccountListItemIcon,"class",s.$userAccountListItemIcon.data(e),s.$userAccountListItemIcon.data(a)),o(s.$userWishlistItem,"URL",s.$userWishlistItem.data(e))}function o(e,t,a,i){switch(t){case"URL":e.attr("href",a);break;case"class":e.removeClass(i).addClass(a);break;case"text":e.text(a);break;default:return!1}}function r(e){var i=t(":focus"),n=s.$stickyNavigation.outerHeight(!0),o=t(this).attr("href");13!==e.which&&"click"!==e.type||(i.blur(),a.common.scrollTo(t(o),400,n))}a=e.sncf=a||{};var s={};a.header={moduleName:"header",updateCache:function(){s={$userAccountListItem:t(".js-nav-link-connection"),$userAccountListItemTxt:t(".js-nav-link-connection-text"),$userAccountListItemIcon:t(".js-nav-link-connection-icon"),$userWishlistItem:t(".js-nav-link-wishlist"),$banner:t(".js-comm-banner"),$pageHeader:t(".js-header"),$navLogoWrapper:t(".js-nav-logo-wrapper"),$navWrapper:t(".js-header__nav-wrapper"),$navMegaMenu:t(".c-navigation"),$shoppingBag:t(".js-nav-link-cart"),$cartCount:t(".js-cart-update span"),$searchOverlay:t(".js-search__overlay"),$searchHeaderListItem:t(".js-nav-link-search"),$skipContent:t(".js-skip-link"),$stickyNavigation:t(".js-navigation")}},bindEvents:function(){n(),this._stickyHeader(),s.$skipContent.on("click keypress",r)},_stickyHeader:function(){var i=s.$banner.length>0?s.$banner.outerHeight(!0):0,n=s.$pageHeader.outerHeight(!0),o=s.$navMegaMenu.outerHeight(!0);t(e).scroll(function(){!common.isMobile()&&t(this).scrollTop()>i+n-o||common.isMobile()&&t(this).scrollTop()>i?(t(s.$navLogoWrapper).addClass("sticky"),t(s.$searchOverlay).addClass("sticky"),t(s.$searchHeaderListItem).removeClass("visible-xs-inline-block"),t(s.$pageHeader).css("margin-bottom",i),t(s.$banner).hide()):(t(s.$navLogoWrapper).removeClass("sticky"),t(s.$searchOverlay).removeClass("sticky"),t(s.$searchHeaderListItem).addClass("visible-xs-inline-block"),t(s.$pageHeader).css("margin-bottom","0"),t(s.$banner).show(),common.isMobile()||a.search.closeSearch())})},init:function(){a.log("CAR: Header initialized"),this.updateCache(),this.bindEvents()}},"function"==typeof define&&define("header",[],function(){return a.header})}(window,window.jQuery,window.sncf),function(e,t,a,i){function n(e){e.stopPropagation(),t(d.$searchOverlay).hasClass("displayed")?(a.search.closeSearch(),c()):(o(),s())}function o(){d.$searchOverlay.removeClass("hidden-xs"),d.$navigation.addClass("position-static");var e=setTimeout(function(){d.$searchOverlay.addClass("displayed"),d.$searchContainer.addClass("expanded"),clearTimeout(e)},30)}function r(e){e.stopPropagation()}function s(){d.$navLogoWrapper.removeClass("menu-closed")}function c(){d.$navLogoWrapper.addClass("menu-closed")}a=e.sncf=a||{};var d={};a.search={moduleName:"search",closeSearch:function(e){t(d.$searchOverlay).removeClass("displayed"),t(d.$searchContainer).removeClass("expanded"),t(d.$navigation).removeClass("position-static");var a=setTimeout(function(){t(d.$searchOverlay).addClass("hidden-xs"),clearTimeout(a)},40)},updateCache:function(){d={$body:t(document.body),$searchHeaderBtn:t(".js-header-toggle-search"),$searchOverlay:t(".js-search__overlay"),$searchContainer:t(".js-search__container"),$topLevelLinks:t(".js-header__nav-wrapper"),$searchNavBackLink:t(".js-search-navigateBack"),$searchInput:t("#js-search-form-input"),$navLogoWrapper:t(".js-nav-logo-wrapper"),$navigation:t(".js-navigation")}},bindEvents:function(){d.$searchHeaderBtn.off("click").on("click",n),d.$searchOverlay.off("click").on("click",this.closeSearch),d.$searchContainer.off("click").on("click",r),d.$body.on("click",this.closeSearch)},init:function(){a.log("debug","CAR: Search initialized"),this.updateCache(),this.bindEvents()}},"function"==typeof define&&define("search",[],function(){return a.search})}(window,window.jQuery,window.sncf),function(e,t,a){if(t){a=e.sncf=a||{};var i={};a.footer={moduleName:"Footer",updateCache:function(){i={$body:t(document.body),$shippingCountryInfo:t(".js-icon-info"),$shippingCountryInfoContent:t(".js-icon-info-content-wrapper")}},bindEvents:function(){i.$shippingCountryInfo.on("mouseenter",function(){i.$shippingCountryInfoContent.show()}).on("mouseleave",function(){i.$shippingCountryInfoContent.hide()})},init:function(){a.log("debug","CAR: Footer module initialized"),this.updateCache(),this.bindEvents()}},"function"==typeof define&&define("footer",[],function(){return a.footer})}}(window,window.jQuery,window.sncf),function(e,t,a){function i(e){e.stopPropagation(),l.$body.addClass("modal-open"),l.$overlay.removeClass("hidden-xs"),l.$headerLogo.removeClass("clickable"),l.$navLogoWrapper.removeClass("menu-closed");var t=setTimeout(function(){l.$overlay.addClass("color-transform"),l.$menu.addClass("translated"),l.$menuDismiss.addClass("translated"),a.search.closeSearch(),clearTimeout(t)},30)}function n(){l.$body.removeClass("modal-open"),l.$overlay.removeClass("color-transform"),l.$menu.removeClass("translated"),l.$menuDismiss.removeClass("translated"),t(".c-navigation__header--toggle").focus(),l.$headerLogo.addClass("clickable");var e=setTimeout(function(){l.$navLogoWrapper.addClass("menu-closed"),l.$overlay.addClass("hidden-xs"),clearTimeout(e)},400)}function o(e){e.stopPropagation(),"focusin"===e.type&&a.keyboardAccess(e)}function r(e){e.preventDefault(),e.stopPropagation(),l.$navigationLi.attr({"aria-hidden":!0,tabindex:"-1"}),t(this).attr({"aria-hidden":!1,tabindex:"0"}),l.$navigationUl.attr("role","presentation"),l.$navigationUl.addClass("slide-left"),l.$navigationUl.parent().addClass("hidden-view"),t(this).find(".js-megamenu").addClass("ace"),t(this).find(".js-megamenu__root").addClass("slide-in")}function s(e){if(e.preventDefault(),e.stopPropagation(),t(this).hasClass("c-megamenu__section--image"))return void(window.location.href=t(this).find("a.c-megamenu__imageblock--viewmore").attr("href"));t(this).closest(".js-megamenu__root--list").addClass("slide-left"),t(this).closest(".js-megamenu").addClass("hidden-view"),t(this).find(".c-megamenu__linklist--wrapper").addClass("ace"),t(this).find(".c-megamenu__linklist").addClass("slide-in")}function c(e){e.stopPropagation();var a=t(this);l.$navigationUl.removeAttr("role"),l.$navigationLi.removeAttr("aria-hidden tabindex"),l.$navigationUl.removeClass("slide-left"),l.$navigationUl.parent().removeClass("hidden-view"),a.closest(".js-megamenu__root").removeClass("slide-in");var i=setTimeout(function(){a.closest(".js-megamenu").removeClass("ace"),clearTimeout(i)},450)}function d(e){e.stopPropagation();var a=t(this);a.closest(".js-megamenu__root--list").removeClass("slide-left"),a.closest(".c-megamenu__linklist").removeClass("slide-in"),a.closest(".js-megamenu").removeClass("hidden-view");var i=setTimeout(function(){a.closest(".c-megamenu__linklist--wrapper").removeClass("ace"),clearTimeout(i)},450)}if(t){a=e.sncf=a||{};var l={};a.navigation={moduleName:"Navigation",updateCache:function(){l={$body:t(document.body),$navigation:t("#jsNavigationToggle"),$navigationLi:t(".js-navigation__listitem"),$navigationLiLinks:t(".js-navigation__listitem > a"),$navigationUl:t(".js-navigation__ulist"),$megamenu:t(".js-megamenu"),$megamenuBacklink:t(".js-megamenu__section--backlink"),$megamenuRoot:t(".js-megamenu__root"),$overlay:t(".js-navigation__overlay"),$menu:t(".js-navigation__container"),$megamenuLi:t(".js-megamenu__section"),$megamenuUl:t(".js-megamenu__root--list"),$submenuBackLink:t(".js-megamenu__listitem--backlink"),$thirdLevelLi:t(".js-megamenu__listitem"),$topLevelLinks:t(".js-header__nav-wrapper"),$headerLogo:t(".js-header-logo"),$menuDismiss:t(".c-navigation__overlay--dismiss"),$viewMoreLinks:t(".c-megamenu__listitem--viewmorelink"),$navLogoWrapper:t(".js-nav-logo-wrapper"),$secondLevelMenuLinks:t(".js-navigation--threelevel .js-megamenu__section>.js-megamenu__section--heading>a"),$megamenuLogo:t(".js-navigation__logo")}},bindEvents:function(){t(window).on("responsive",function(){common.isMobileMode()?(l.$navigation.off("click").on("click",i),l.$overlay.off("click").on("click",n),l.$megamenuLogo.off("click").on("click",n),l.$menu.off("click").on("click",o),l.$navigationLi.off("click").on("click",r),l.$megamenuBacklink.off("click").on("click",c),l.$megamenuLi.off("click").on("click",s),l.$submenuBackLink.off("click").on("click",d),l.$thirdLevelLi.off("click").on("click",o),l.$viewMoreLinks.off("click").on("click",o),l.$navigationLiLinks.off("focusin"),l.$secondLevelMenuLinks.off("focusin"),l.$megamenu.find("a").off("focusin"),l.$megamenu.off("click"),t(document.body).off("focusin click"),l.$navigationLiLinks.off("mouseenter mouseleave"),l.$secondLevelMenuLinks.off("mouseenter mouseleave")):(l.$navigation.off("click"),l.$overlay.off("click"),l.$megamenuLogo.off("click"),l.$menu.off("click"),l.$navigationLi.off("click"),l.$megamenuBacklink.off("click"),l.$megamenuLi.off("click"),l.$submenuBackLink.off("click"),l.$thirdLevelLi.off("click"),l.$viewMoreLinks.off("click"),l.$megamenu.find("a").off("focusin").on("focusin",o),l.$megamenu.off("click").on("click",o))}),common.isMobileMode()&&(l.$navigation.on("click",i),l.$overlay.on("click",n),l.$megamenuLogo.on("click",n),l.$menu.on("click",o),l.$navigationLi.on("click",r),l.$megamenuBacklink.on("click",c),l.$megamenuLi.on("click",s),l.$submenuBackLink.on("click",d),l.$thirdLevelLi.on("click",o),l.$viewMoreLinks.on("click",o)),common.isTabletOrDesktopMode()&&(l.$megamenu.find("a").on("focusin",o),l.$megamenu.on("click",o))},init:function(){a.log("debug","CAR: Navigation module initialized"),this.updateCache(),this.bindEvents()}},"function"==typeof define&&define("navigation",[],function(){return a.navigation})}}(window,window.jQuery,window.sncf),function(e,t,a){a=e.sncf=a||{};a.heroCarousel={moduleName:"heroCarousel",initializeCarousel:function(){t(".carousel").each(function(e,i){var n=(t(i).data("autoplay"),t("html").data("country"));if("ae"===(n=n?n.toLowerCase():n)){t(this).carousel();var o=t(this).data("bs.carousel");o.pause(),t(this).find("> .carousel-inner > .item:not(:first-child)").each(function(){t(this).prependTo(this.parentNode)}),t(this).find("> .carousel-indicators > li").removeClass("active"),t(this).find("> .carousel-indicators > li:last-child").addClass("active"),o.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.prev,this),this.options.interval)),this},o.cycle()}t(i).carousel({pause:"null"});var r=t(i).find(".item.active")[0],s=t(r).data("type"),c=t(r).data("startPlaying");if(c=c?c.toString():"false","image"!==s&&t(this).find(".carousel-indicators").hide(),("internalvideo"===s||"youtube"===s||"vimeo"===s)&&"true"==c){var d=t(r).find(".c-video-player")[0],l=t(d).attr("id");a.video.playVideo(s,l)}})},handleSlideChange:function(){t(".carousel").bind("slide.bs.carousel",function(e){var i,n,o;if(i=t(this).find(".item.active")[0],e.relatedTarget,n=t(i).data("type"),o=t(i).data("startPlaying"),o=o?o.toString():"false","internalvideo"===n||"youtube"===n||"vimeo"===n){t(this).find(".carousel-indicators").show();var r=t(i).find(".c-video-player")[0],s=t(r).attr("id");a.video.pauseVideo(n,s)}}),t(".carousel").bind("slid.bs.carousel",function(e){var i=e.relatedTarget,n=t(i).data("type"),o=t(i).data("startPlaying");if(o=o?o.toString():"false","image"!==n&&t(this).find(".carousel-indicators").hide(),("internalvideo"===n||"youtube"===n||"vimeo"===n)&&"true"===o){var r=t(i).find(".c-video-player")[0],s=t(r).attr("id");a.video.playVideo(n,s)}})},stopSlide:function(e){t("#"+e).carousel("pause")},resumeSlide:function(e){t("#"+e).carousel("cycle")},init:function(){a.log("log","Initiated hero carousel"),this.initializeCarousel(),this.handleSlideChange()}},"function"==typeof define&&define("heroCarousel",[],function(){return a.heroCarousel})}(window,window.jQuery,window.sncf),function(e,t,a){function i(e){window.dataLayer.push({event:"gaEvent",eventCategory:"GPS Pop-in",eventAction:e})}t&&(a=e.sncf=a||{},CQ=CQ||{},a.dispatch={moduleName:"dispatch",contryCookie:a.common.getCookie("local-code"),cCode:"WW",currentSite:t("#ricsitename").val(),redirectionlink:t("#dispatchpopupurl").val(),currentPagePath:t("#configPath").val(),isDispatchPopupRequire:t("#displaycountryListPopUp").val(),openRedirectionModal:function(e,a,i){var n=ajaxWrapper.getXhrObj({type:"GET",url:e+"?q="+(new Date).getTime(),dataType:"html",data:{requestedWebsiteCode:encodeURIComponent(this.currentSite),geoCountry:encodeURIComponent(this.cCode),currentPagePath:this.currentPagePath,bridalTheme:t("body").hasClass("bridal-theme")},contentType:"application/x-www-form-urlencoded"});n&&n.done(function(e){var n=t(t.parseHTML(e,document,!0)).find(".container");t(n).find("#dispatch").addClass("modal fade"),a(n),i&&i()})},getCountryUrl:function(e){var t={type:"GET",url:"/bin/cartier/redirection/rules.json?q="+(new Date).getTime(),dataType:"json",data:{c_local:this.cCode,pagePath:this.currentPagePath,currentSite:this.currentSite}};ajaxWrapper.getXhrObj(t).done(function(t){e(t)})},_postAjaxEvents:function(e){var n=this;if(e.length){e.find(".dispatch-image, .js-disptachpopup-logo, .main-dispatch").addClass("display-none"),t(e).find("#dispatch").length&&t("body").append(e),e.find("#pdp_pagepath").val(t("#configPath").val());var o=setTimeout(function(){t("#dispatch").modal({show:!0,keyboard:!0}),window.dataLayer.push({event:"virtualPageview",page:"/Cartier/Pop-in_GPS"}),t("body").on("click keypress",".js-display-other-list",function(e){13!==e.which&&"click"!==e.type||(t(".other-list").toggleClass("hidden"),i("Or choose another location"))}),clearTimeout(o)},200);t("body").on("click",".country-link",function(e){e.preventDefault();var i=t(this).attr("href"),n=t(this).attr("data-country");a.common.resetCookie("local-code",n,30),window.location=i}),t("body").on("click",".js-close, .js-modal-overlay",function(e){a.common.resetCookie("local-code",n.currentSite,30)})}},bindEvents:function(){var e=this;if(t(".dispatch-btn").click(function(){t("#dispatch").modal({show:!0,keyboard:!0})}),void 0===CQ.WCM&&""===e.contryCookie&&"true"===e.isDispatchPopupRequire){var n={type:"POST",url:"/geolocation.json",dataType:"json"};ajaxWrapper.getXhrObj(n).done(function(t,i,n){e.cCode=n.getResponseHeader("X-geoip-country-code"),e.cCode="(null)"===e.cCode?"WW":e.cCode,e.getCountryUrl(function(t){t&&t.success&&t.displayCountryListPopUp?!(e.cCode===e.currentSite||!e.redirectionlink)&&e.openRedirectionModal(e.redirectionlink,e._postAjaxEvents):a.common.resetCookie("local-code",e.cCode,30)})}).fail(function(e){a.log("log",e)}),t("body").on("click",".country-link",function(e){e.preventDefault();var a=t(this).attr("data-country"),n="WW"==a?"Worldwide":a;i(t(this).hasClass("cta-button")?"Continue on "+n:"I want to Continue On "+n)})}else e.contryCookie&&"WW"===e.contryCookie&&t(".dispatch-landing").length&&(window.location=t("#dchomepath").val())},init:function(){a.log("debug","CAR: dispatch has been initialized"),this.bindEvents()}},"function"==typeof define&&define("dispatch",[],function(){return a.dispatch}))}(window,window.jQuery,window.sncf),sncf.video={},function(e,t,a){"use strict";function i(e){sncf.heroCarousel.resumeSlide(e)}function n(e){sncf.heroCarousel.stopSlide(e)}var o,r,s,c,d,l={},u={};o=function(a){var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),e.onYouTubeIframeAPIReady=function(){t(".yt-player").each(function(e,a){var i=t(a).attr("id"),n=(t(a).data("ee-promotions"),new YT.Player(i,{height:"390",width:"640",events:{onReady:s,onStateChange:d}}));l[i]=n})}},s=function(e){var a=e.target.a,i=e.target.getVideoData().title,n=t(a).data("ee-promotions")[0],o=t(a.parentElement).data("ee-promotions")[0];n.id+=i,n.name=i,o.id+=i,o.name=i},d=function(e){var a=e.target.a.id,i=t("#"+a).parents(".carousel")[0],n=t(i).attr("id"),o=t(e.target.a).data("ee-event"),r=t(e.target.a).data("ee-promotions");e.data==YT.PlayerState.PLAYING?sncf.heroCarousel.stopSlide(n):sncf.heroCarousel.resumeSlide(n);try{if(dataLayer){var s=t("#"+a).data("gaEvent");e.data==YT.PlayerState.ENDED?dataLayer.push({event:s,videoInteractions:"Stop video"}):e.data==YT.PlayerState.PAUSED?dataLayer.push({event:s,videoInteractions:"Pause video"}):e.data==YT.PlayerState.PLAYING&&(dataLayer.push({event:s,videoInteractions:"Play video"}),dataLayer.push({eeAction:o,eePromotions:r}))}}catch(e){}},r=function(){t("video").on("play",function(e){var a=t("#"+this).data("gaEvent");t(this).prev(".icon-play").hide(),t(this).attr("controls",!0);var i=t(this).parents(".carousel")[0],n=t(i).attr("id");sncf.heroCarousel.stopSlide(n);try{dataLayer&&dataLayer.push({event:a,videoInteractions:"Play video"})}catch(e){}}),t("video").on("pause",function(e){var a=t("#"+this).data("gaEvent");t(this).prev(".icon-play").show(),t(this).removeAttr("controls");var i=t(this).parents(".carousel")[0],n=t(i).attr("id");sncf.heroCarousel.resumeSlide(n);try{dataLayer&&dataLayer.push({event:a,videoInteractions:"Pause video"})}catch(e){}}),t(".c-internal-video").on("click",function(){var e=t(this).find("video");if(e){e=e[0];var a=t(e).get(0).paused,i=t(e).attr("id");a?sncf.video.playInternalVideo(i):sncf.video.pauseInternalVideo(i)}})},c=function(){t(".vimeo").each(function(e,a){var o=t(t(this).parents(".carousel")[0]).attr("id"),r=t(a).attr("id"),s=t("#"+r).data("gaEvent"),c=$f(a);u[r]=c,c.addEvent("ready",function(){c.addEvent("pause",function(){i(o);try{dataLayer&&dataLayer.push({event:s,videoInteractions:"Pause video"})}catch(e){}}),c.addEvent("play",function(){n(o);try{dataLayer&&dataLayer.push({event:s,videoInteractions:"Play video"})}catch(e){}})})})},a.pauseVimeo=function(e){u[e].api("pause")},a.playVimeo=function(e){u[e].api("play")},a.playYTVideo=function(e){try{YT&&l[e].playVideo()}catch(e){}},a.stopYTVideo=function(e){try{YT&&l[e].stopVideo()}catch(e){}},a.pauseYTVideo=function(e){try{YT&&l[e].pauseVideo()}catch(e){}},a.playInternalVideo=function(e){t("#"+e)[0].play()},a.pauseInternalVideo=function(e){t("#"+e)[0].pause()},a.playVideo=function(e,t){switch(e){case"internalvideo":this.playInternalVideo(t);break;case"youtube":this.playYTVideo(t);break;case"vimeo":this.playVimeo(t)}},a.pauseVideo=function(e,t){switch(e){case"internalvideo":this.pauseInternalVideo(t);break;case"youtube":this.pauseYTVideo(t);break;case"vimeo":this.pauseVimeo(t);break;default:sncf.log("log","Video type not defined")}},a.init=function(){sncf.log("log","Initialize video"),o(),r(),c()},"function"==typeof define&&define("video",[],function(){return sncf.video})}(window,jQuery,sncf.video),function(e,t,a){function i(){if(this===document)return void t(".message-dialog").remove();t(this).closest(".message-dialog").remove()}function n(e){e.stopPropagation()}function o(e){e.stopPropagation();var t=e.data;t&&t.actionLabelClick&&(t.close=i.bind(this),t.actionLabelClick.call(this,t,e))}function r(e){return t("<div>").addClass("message-dialog hidden").attr("role","dialog").html(e).insertBefore(t("body script[data-main]").first())}function s(e,t){this.bindEvents(r(e).removeClass("hidden"),t)}a=e.sncf=a||{};a.messages={moduleName:"messages",makeError:function(e){e="string"==typeof e?{message:e}:e,"boolean"!=typeof e.autoClose&&(e.autoClose=!0),e.isError=!0,this.createDialog(e)},createDialog:function(e){e="string"==typeof e?{message:e}:e;var t=this;hbsTemplates.ready(function(){s.call(t,CARF.templates.messageDialog(e),e)})},bindEvents:function(e,a){if(e.find(".message-overlay").on("click",i),e.find(".message-close").on("click",i).trigger("focus"),t(document).on("escapeKey",i),e.find(".message-body").on("click",n),a.actionLabel&&(e.find(".message-action").on("click",a,o),e.find(".message-action").trigger("focus")),a.autoClose)var r=setTimeout(function(){e.addClass("hidden"),i.apply(e),clearTimeout(r)},3e3);return this},init:function(){"messages"in e||(e.messages=this)}},"function"==typeof define&&define("messages",[],function(){return a.messages})}(window,window.jQuery,window.sncf),function(e,t,a,i){function n(e){t(".js-skip-link").focus(),e.preventDefault(),s.$mainBanner.addClass("hidden"),a.common.setCookie("shippingBanner","true"),a.header._stickyHeader()}function o(){return a.common.getCookie("shippingBanner")}function r(){o()||s.$mainBanner.removeClass("hidden")}a=e.sncf=a||{};var s={};a.commercial_banner={moduleName:"commercial_banner",updateCache:function(){s={$mainBanner:t(".c-comm-banner"),$bannerButton:t(".js-comm-banner__btn")}},bindEvents:function(){s.$bannerButton.off("click").on("click",n),r()},init:function(){a.log("CAR: Commercial banner initialized"),this.updateCache(),this.bindEvents()}},"function"==typeof define&&define("commercial_banner",[],function(){return a.commercial_banner})}(window,window.jQuery,window.sncf),function(e,t,a){if(t){a=e.sncf=a||{};var i={};a.changePassword={moduleName:"changePassword",updateCache:function(){i={$body:t(document.body),$newPassowrdField:t("#registration_j_password"),$confirmPasswordField:t("#confirm_registration_j_password"),$form:t("#createNewPassword"),$headingWrapper:t(".js-password-heading-wrapper"),$invalidTokenErrorMsg:t('[class^="error_message_"]'),$resetPasswordWrapper:t(".c-password__wrapper"),$regexInfoElement:t(".js-password-regexinfo"),$regexErrorElement:t("#errormessage-registration_j_password"),$confirmWrapperElement:t(".confirm_registration_j_password"),$confirmInfoElement:t(".js-password-confirminfo"),$confirmErrorElement:t("#errormessage-confirm_registration_j_password"),$passInput:t('[name*="registration_j_password"]'),$rulesObject:[]}},bindEvents:function(){var e=this;e.addOuterWrapper(),i.$newPassowrdField.on("focus",function(){i.$newPassowrdField.valid()?e.toggleErrorBlock(!0):e.toggleErrorBlock(!1)}),i.$newPassowrdField.on("blur",function(){e.toggleErrorBlock(!0)}),t(window).on("resize",function(){e.setPopoverPosition(i.$newPassowrdField)}),e.passShowButton(),e.addErrorBlock(),e.addValidateBlock(i.$newPassowrdField),e.addValidateBlock(i.$confirmPasswordField),e.addDynamicRegexValidation(),e.toggleSubmitButton(!0),e.passwordConfirmValidator(),e.addPasswordValidation(),e.setPopoverPosition(i.$newPassowrdField),e.togglePasswordField(i.$confirmWrapperElement,!0)},passShowButton:function(){for(var e=i.$passInput.length,a=0;a<e;a++)t(i.$passInput[a]).after('<button type="button" class="c-password__mask js-display-password off"><span class="eye-icon icon icon-masked"></span></button>');this.bindShowHide()},bindShowHide:function(){t(".js-display-password").off("click").on("click",function(){var e=t(this),a=e.closest("div").find("input"),i=e.closest("div").find(".eye-icon");e.removeClass("on off"),i.removeClass("icon-masked icon-unmasked"),"password"===a.attr("type")?(a.attr("type","text"),e.addClass("on"),i.addClass("icon-unmasked")):(a.attr("type","password"),e.addClass("off"),i.addClass("icon-masked"))})},addErrorBlock:function(){var e="";i.rulesObject=i.$body.data("rulesCustomDataObj")||[],i.rulesObject.length>0&&(e=CARF.templates.errorBlock(i.rulesObject),i.$regexErrorElement.append(t(e)))},addOuterWrapper:function(){if(i.$form.length>0){for(var e=i.$passInput,a=0;a<e.length;a++){var n=t(e[a]).closest(".input-wrapper"),o=t(n).html();t(n).html(t('<div class="c-password__outerwrapper"></div>').append(o))}this.updateCache()}},addValidateBlock:function(e){var t="",a=e;t=CARF.templates.errorValidateBlock(),a.parent().find("button").after(t)},addDynamicRegexValidation:function(){var e=this;t.validator.addMethod("complexPassword",function(a,n){var o=a.length||0,r=0,s=t(n).parent().find(".js-password-validate");return 0==o?(e.updateErrorBlock(s,"remove",""),!1):(i.rulesObject.forEach(function(i,n){var s=t(".js-pwd-"+n);if("length"==i.type)o<i.params?(e.updateErrorBlock(s,"invalid"),r++):e.updateErrorBlock(s,"valid");else{new RegExp(i.params).test(a)?e.updateErrorBlock(s,"valid"):(e.updateErrorBlock(s,"invalid"),r++)}}),0==r?(e.updateErrorBlock(s,"valid",CQ.I18n.getMessage("reset.password.valid")),e.togglePasswordField(i.$confirmWrapperElement,!1),!0):(e.updateErrorBlock(s,"invalid",CQ.I18n.getMessage("reset.password.invalid")),void e.togglePasswordField(i.$confirmWrapperElement,!0)))},"")},addPasswordValidation:function(){var e=this;i.$form.validate(),i.$newPassowrdField.length>0&&(t(i.$newPassowrdField).rules("add",{complexPassword:!0}),i.$newPassowrdField.on("keyup",function(){e.onKeyUpValidation(this)})),i.$confirmPasswordField.length>0&&(t(i.$confirmPasswordField).rules("add",{matchPassword:!0,messages:{matchPassword:CQ.I18n.getMessage("reset.password.donot.match")}}),
i.$confirmPasswordField.on("keyup",function(){e.onKeyUpValidation(this)}))},checkEmptyPassword:function(){var e=this;0==i.$newPassowrdField.val().length&&(t(".js-error-block").find("i").removeClass("icon-valid").addClass("icon-invalid"),t(".js-error-block").find(".error-content").removeClass("valid").addClass("invalid"),e.togglePasswordField(i.$confirmWrapperElement,!0))},passwordConfirmValidator:function(){var e=this;t.validator.addMethod("matchPassword",function(a,n,o){var r,s=i.$newPassowrdField.val(),c=i.$confirmPasswordField.val(),d=t(n).parent().find(".js-password-validate");if(0!=c.length)return s.length>0&&s===c?(e.updateErrorBlock(d,"valid",CQ.I18n.getMessage("reset.password.match")),r='<span for="'+t(n).attr("name")+'" class="error valid">'+CQ.I18n.getMessage("reset.password.match")+"</span>",i.$confirmErrorElement.html(r),!0):(e.updateErrorBlock(d,"invalid",CQ.I18n.getMessage("reset.password.donot.match")),r='<span for="'+t(n).attr("name")+'" class="error">'+CQ.I18n.getMessage("reset.password.donot.match")+"</span>",i.$confirmErrorElement.html(r),!1);e.updateErrorBlock(i.$confirmPasswordField.parent(),"remove","")},"")},onKeyUpValidation:function(e){var a=this,n=(t(e),!1),o=!1;a.checkEmptyPassword(),n=i.$newPassowrdField.valid(),o=i.$confirmPasswordField.valid(),n?a.toggleErrorBlock(!0):a.toggleErrorBlock(!1),n&&o?a.toggleSubmitButton(!1):a.toggleSubmitButton(!0)},toggleErrorBlock:function(e){e?t(".js-error-block").removeClass("fadeIn").addClass("fadeOut"):t(".js-error-block").removeClass("fadeOut").addClass("fadeIn")},updateErrorBlock:function(e,t,a){var i=e.find("i"),n=e.find(".error-content"),o=a;"valid"==t?(i.removeClass("icon-invalid").addClass("icon-valid"),n.removeClass("invalid").addClass("valid")):"invalid"==t?(i.removeClass("icon-valid").addClass("icon-invalid"),n.removeClass("valid").addClass("invalid")):"remove"==t&&(i.removeClass("icon-valid icon-invalid"),n.removeClass("valid invalid"),n.text(o)),o&&n.text(o)},togglePasswordField:function(e,t){t?(e.addClass("disabled"),e.find("input").attr("disabled","disabled"),e.find("button").attr("disabled","disabled")):(e.removeClass("disabled"),e.find("input").attr("disabled",!1),e.find("button").attr("disabled",!1))},toggleSubmitButton:function(e){e?i.$form.find("[type=submit]").attr("disabled","disabled"):i.$form.find("[type=submit]").attr("disabled",!1)},searchErrorBlock:function(e,a){for(;t(e).parent();)if(e=t(e).parent(),t(e).find(a).length>0)return e;return null},setPopoverPosition:function(e){if(t(".js-error-block").length>0){var i=t(".js-error-block"),n=this.searchErrorBlock(e,i),o=t(n).find(i),r=t(e).offset().left,s=t(e).outerWidth(),c=o.outerWidth(),d=t(window).width()-(r+s+c);a.common.isMobile()||d<36?t(i).removeClass("position-right").addClass("position-bottom"):t(i).removeClass("position-bottom").addClass("position-right")}},init:function(){var e=this;if(a.log("debug","CAR: changePassword module initialized"),e.updateCache(),i.$invalidTokenErrorMsg.length>0&&i.$invalidTokenErrorMsg.text().length>0&&i.$form.length>0){var n=CQ.I18n.getMessage("reset.password.invalid.token"),o=t('[name="forgot_password_link"]').val(),r="<div><a href="+o+'><span class="x-btn-red">'+CQ.I18n.getMessage("reset.password.button.text")+"</span></a></div>";i.$form.remove(),i.$headingWrapper.remove(),i.$invalidTokenErrorMsg.html(n),i.$invalidTokenErrorMsg.append(r),i.$invalidTokenErrorMsg.show()}else hbsTemplates.ready(function(){e.bindEvents()});i.$resetPasswordWrapper.addClass("animated fadeIn").queue(function(){t(this).addClass("fadeIn-fallback")})}},"function"==typeof define&&define("changePassword",[],function(){return a.changePassword})}}(window,window.jQuery,window.sncf);